<div class="container" fxLayout="row" fxLayoutAlign="center none">
    <div fxFlex="95%" fxFlex.md="60%" fxFlex.sm="50%" fxFlex.xs="95%" class="mat-elevation-z8">
        <mat-card>
            <mat-card-content>
                <div fxFlex="50%" fxFlex.sm="95%" fxFlex.xs="950%">

                    <h2>{{!form.get('id').value ? 'New' : 'Edit'}} User</h2>
                    
                    <form [formGroup]="form">
                        <mat-form-field class="full-width">
                            <input matInput formControlName="name" placeholder="Name" required>
                            <mat-error *ngIf="form.get('name').hasError('required')">Name is required</mat-error>
                            <mat-icon matSuffix>person</mat-icon>
                        </mat-form-field> 
                            
                        <mat-form-field class="full-width">
                            <input matInput formControlName="email" placeholder="Email" type="email" required>
                            <mat-icon matSuffix>email</mat-icon>
                            <mat-error *ngIf="form.get('email').hasError('email')">Please enter a valid email address</mat-error>
                            <mat-error *ngIf="form.get('email').hasError('required')">Email is required</mat-error>
                        </mat-form-field>
    
                        <mat-form-field class="full-width" *ngIf="!form.get('id').value">
                            <input matInput formControlName="password" placeholder="Password" type="password" required>
                            <mat-icon matSuffix>lock</mat-icon>
                            <mat-error *ngIf="form.get('password').hasError('required')">Password is required</mat-error>
                        </mat-form-field>

                        <mat-form-field class="full-width">
                            <mat-label>Role</mat-label>
                            <mat-select formControlName="roles" [compareWith]="compareSelectObjId" multiple required>
                                <mat-option *ngFor="let role of listRoles" [value]="role">{{role.description}}</mat-option>
                            </mat-select>
                            <mat-error *ngIf="form.get('roles').hasError('required')">Role is required</mat-error>
                        </mat-form-field>
    
                        <div class="text-right">
                            <button type="button" mat-raised-button routerLink="/users" matTooltip="Click to Cancel" style="margin-right: 10px;">Cancel</button>
                            <button type="button" mat-raised-button color="primary" (click)="saveUser()" matTooltip="Click to Save Use">Save</button>
                        </div>
                    </form>

                </div>             
            </mat-card-content>
        </mat-card>
    </div>
</div>        